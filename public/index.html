<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="style/angular-chart.css">
  <link rel="stylesheet" type="text/css" href="style/style.css">
  <title>Git Search Repository</title>
</head>
<body ng-app="gitSearchRepository" ng-controller="searchController">
  <header>
    <div class="header-title">
      <h2>Logo...</h2>
    </div>
    <div class="row search-bar">
      <div class="col-lg-6">
        <div class="input-group">
          <form class="col-lg-6 row pos-right" ng-submit="search(searchKey)">
            <input type="text" class = "form-control" ng-model="searchKey" placeholder="Search for..." required autofocus>
            <span class="input-group-btn">
              <button class="btn btn-default" type="submit" name="button">Search</button>
            </span>
          </form>
        </div>
      </div>
    </div>
  </header>
  <main class="container">
    <table class="table table-striped table-responsive table-bordered" ng-if="repositoriesData">
      <tbody>
        <tr>
          <td>URL</td>
          <td>Description</td>
          <td>Forks</td>
          <td>Stargazers</td>
          <td>Open issues</td>
          <td>Issues</td>
        </tr>
      </tbody>
      <tr ng-repeat="repository in repositoriesData.items">
        <td><a href= "{{repository.html_url}}" target="_blank">{{repository.name}}</a></td>
        <td>{{repository.description}}</td>
        <td>{{repository.forks_count}}</td>
        <td>{{repository.stargazers_count}}</td>
        <td>{{repository.open_issues_count}}</td>
        <td>
          <button type="button" class="btn btn-info" data-toggle="modal" ng-click="generateStats( repository)" data-target="#myModal">Open Stats</button>
        </td>
      </tr>
    </table>
    <!-- Modal -->
    <div ng-controller="baseCtrl" class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Issues {{issuesData.total_count}}</h4>
          </div>
          <div class="modal-body">
            <canvas id="base" class="chart-base" chart-type="type"
              chart-data="getChartData()" chart-labels="labels" chart-legend="true">
            </canvas>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </main>
<script src="js/lib/angular.min.js"></script>
<script src="js/lib/Chart.min.js"></script>
<script src="js/lib/angular-chart.min.js"></script>
<script src="js/lib/jquery.min.js"></script>
<script src="js/lib/bootstrap.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>
